#/bin/sh
VERSION_FILE=version.txt
TITLE="BBK - DCS - Introduction to Computer Programming.pdf"
if [ -e ${VERSION_FILE} ]; then
  echo "ERROR: There is a spurious ${VERSION_FILE} in this folder."
  echo "       Please delete it and run the script again"
  exit 0
fi
if [ "$1" != "" ]; then
  echo $1 > ${VERSION_FILE}
fi
if [ ! -e ${VERSION_FILE} ]; then
  echo "USAGE: makeNewPDF <version>  (e.g. makeNewPDF 1.0)"
  exit 0
fi
latex main
latex main
latex main
dvips main.dvi -o 
ps2pdf main.ps
# If we wanted to include the version info in the title of the PDF, 
# we would update $TITLE here. However, this is a bad idea because 
# several web links beyond our control (and more to come) point to 
# this file and we do not want to break them. 
mv main.pdf "$TITLE"
echo Created $TITLE
rm ${VERSION_FILE}
